<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>写真アップローダー</title>
    <style>
  /* ==========================
     🌸 ページ全体の設定
     ========================== */
  body {
    font-family: "Noto Sans JP", sans-serif; /* ← 全体のフォント（ここを変えると全体が変わる） */
    background: #eef3f7;  /* ページ全体の背景色 */
    color: #333;          /* 全体の文字色 */
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;    /* 高さを画面全体に合わせる */
    font-size: 35px;      /* ← ★全体の基本フォントサイズ（ここを大きくすると全体が比例して拡大） */
  }

  /* ==========================
     🟦 ヘッダー（上部タイトルバー）
     ========================== */
  header {
    width: 100%;                  /* 画面幅いっぱいに広げる */
    background: linear-gradient(135deg, #00b4db, #0083b0); /* グラデーション */
    color: white;                 /* 文字色 */
    text-align: center;           /* 中央揃え */
    padding: 1.2rem;              /* ← 上下の余白（rem単位：フォントサイズ基準） */
    font-size: 2rem;              /* ← ★タイトル文字の大きさ（大きくしたいならここ） */
    font-weight: 700;             /* 太字 */
    letter-spacing: 0.05em;       /* 文字間隔少し広め */
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2); /* 影 */
  }

  /* ==========================
     🟩 メインカード（中央の白い部分）
     ========================== */
  main {
    flex: 1;
    width: 98%;                   /* ← 画面幅の何％を使うか（狭いと思ったら98%とかに） */
    max-width: 650px;             /* ← 最大幅（タブレットで広がりすぎ防止） */
    background: white;
    border-radius: 20px;          /* ← カードの角丸半径（数字を大きく→丸み強く） */
    margin-top: 1rem;             /* ← ヘッダーとの間の余白 */
    padding: 2rem 1.5rem;         /* ← 内側余白（上下・左右） */
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1); /* カード影 */
    text-align: center;
  }

  /* ==========================
     🟨 セレクトボックス（列・番号）
     ========================== */
  select {
    width: 90%;                   /* ← 横幅（画面全体に広げたい場合は 90% などに） */
    font-size: 1.3rem;            /* ← ★プルダウン内文字の大きさ */
    padding: 12px;                /* ← 内側の余白（上下・左右） */
    margin: 0.8rem;               /* ← 要素間の間隔 */
    border: 2px solid #ccc;       /* 枠線 */
    border-radius: 8px;           /* 角の丸み */
    background: #f8f8f8;
  }

  /* ==========================
     📷 撮影ボタン
     ========================== */
  #cameraInput {
    display: none; /* input自体は隠してlabelをボタン代わりに使う */
  }

  label.camera-button {
    display: inline-block;
    background: #0083b0;          /* ← ボタンの背景色 */
    color: white;                 /* ボタン文字の色 */
    font-size: 1.6rem;            /* ← ★ボタンの文字サイズ（大きくしたいならここ） */
    padding: 1rem 3rem;           /* ← ボタンの高さ・幅を決める（上下・左右） */
    margin-top: 1.8rem;           /* ボタン上の余白 */
    border-radius: 50px;          /* ← 丸みの強さ（大きいほど丸） */
    cursor: pointer;              /* クリックカーソル */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25); /* 影 */
    transition: background 0.3s, transform 0.1s;
  }

  label.camera-button:hover {
    background: #00b4db;          /* ← ホバー（押した時）の色 */
    transform: scale(1.05);       /* ← 押した時に少し拡大（演出） */
  }

  /* ==========================
     💬 ステータス表示（アップロード中・完了など）
     ========================== */
  #status {
    margin-top: 1.5rem;
    font-size: 1.2rem;            /* ← ★アップロード完了の文字サイズ */
    line-height: 1.6;             /* 行間（見やすくする） */
    word-wrap: break-word;        /* 長い文字列を折り返す */
  }

  /* 点滅アニメーション */
  .loading {
    animation: blink 1s infinite;
  }

  @keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }

  /* ==========================
     🟫 フッター
     ========================== */
  footer {
    margin-top: auto;
    font-size: 1rem;              /* ← フッター文字サイズ */
    color: #777;
    padding: 1rem 0;
  }
</style>

  </head>

  <body>
    <header>📸 写真アップローダー</header>

    <main>
      <div>
        <label>列：</label>
        <select id="column">
          <option value="A">A</option>
          <option value="B">B</option>
          <option value="C">C</option>
        </select>

        <label>番号：</label>
        <select id="number">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
      </div>

      <input type="file" accept="image/*" capture="camera" id="cameraInput">
      <label for="cameraInput" class="camera-button">📷 撮影する</label>

      <p id="status"></p>
    </main>

    <footer>© 2025 屋台部 Photo Upload System</footer>

    <script>
      const input = document.getElementById('cameraInput');
      const status = document.getElementById('status');

      input.addEventListener('change', () => {
        const file = input.files[0];
        if (!file) return;

        const column = document.getElementById('column').value;
        const number = document.getElementById('number').value;

        const reader = new FileReader();

        reader.onloadend = () => {
          status.innerText = '📤 アップロード中...';
          status.classList.add('loading');

          google.script.run
            .withSuccessHandler(msg => {
              status.innerHTML = `✅ <b>アップロード完了:</b><br>${msg}`;
              status.classList.remove('loading');
            })
            .withFailureHandler(err => {
              status.innerText = '❌ エラー: ' + JSON.stringify(err);
              status.classList.remove('loading');
            })
            .uploadFile(reader.result, column, number);
        };

        reader.readAsDataURL(file);
      });
    </script>
  </body>
</html>
